{"remainingRequest":"/Users/keya/Desktop/ExamOnline/exam-online/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/keya/Desktop/ExamOnline/exam-online/src/views/Grade.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/keya/Desktop/ExamOnline/exam-online/src/views/Grade.vue","mtime":1637113799239},{"path":"/Users/keya/Desktop/ExamOnline/exam-online/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/keya/Desktop/ExamOnline/exam-online/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/keya/Desktop/ExamOnline/exam-online/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9QYWdpbmF0aW9uLnZ1ZScKZXhwb3J0IGRlZmF1bHQgewoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQlsb2FkaW5nOiBmYWxzZSwKCQkJcGFnZTogMSwKCQkJcGFnZV9zaXplOiA1LAoJCQlwYWdpbmF0aW9uOiB7CgkJCQljb3VudDogbnVsbCwKCQkJCW5leHQ6IG51bGwsCgkJCQlwcmV2aW91czogbnVsbCwKCQkJCXJlc3VsdHM6IFtdCgkJCX0KCQl9Cgl9LAoJY29tcG9uZW50czogewoJCVBhZ2luYXRpb24KCX0sCgljcmVhdGVkKCkgewoJCXRoaXMuZ2V0R3JhZGVJbmZvKCkKCQl0aGlzLmxvYWRpbmcgPSB0cnVlCgl9LAoJbWV0aG9kczogewoJCS8v6I635Y+W5oiQ57up5L+h5oGvCgkJZ2V0R3JhZGVJbmZvKCkgewoJCQl0aGlzLiRheGlvcyhgYXBpL2dyYWRlcy8/Zm9ybWF0PWpzb25gLCB7CgkJCQlwYXJhbXM6IHsKCQkJCQlwYWdlOiB0aGlzLnBhZ2UsCgkJCQkJcGFnZV9zaXplOiB0aGlzLnBhZ2Vfc2l6ZSwKCQkJCQlzdHVkZW50X2lkOiB0aGlzLiRzdG9yZS5zdGF0ZS5zdHVkZW50LmlkLAoJCQkJfQoJCQl9KS50aGVuKHJlcyA9PiB7CgkJCQl0aGlzLnBhZ2luYXRpb24gPSByZXMuZGF0YQoJCQkJdGhpcy5sb2FkaW5nID0gZmFsc2UKCQkJCS8vIGNvbnNvbGUubG9nKHRoaXMucGFnaW5hdGlvbikKCQkJfSkuY2F0Y2goZXJyb3IgPT4gewoJCQkJY29uc29sZS5sb2coZXJyb3IpCgkJCX0pCgkJfSwKCQkvL+i/h+a7pOWPiuagvOWSjOS4jeWPiuagvAoJCWZpbHRlclNjb3JlKHZhbHVlLCByb3cpIHsKCQkJaWYgKHZhbHVlID09PSAncGFzcycpIHsKCQkJCXJldHVybiByb3cuc2NvcmUgPj0gNjA7CgkJCX0gZWxzZSBpZiAodmFsdWUgPT09ICdmYWlsJykgewoJCQkJcmV0dXJuIHJvdy5zY29yZSA8IDYwCgkJCX0gZWxzZSB7CgkJCQlyZXR1cm4gcm93LnNjb3JlID4gMAoJCQl9CgkJfSwKCQkvL+aUueWPmOavj+mhteadoeaVsAoJCWhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CgkJCS8vIGNvbnNvbGUubG9nKGDmr4/pobUgJHt2YWx9IOadoWApOwoJCQl0aGlzLnBhZ2Vfc2l6ZSA9IHZhbAoJCQl0aGlzLmdldEdyYWRlSW5mbygpCgkJfSwKCQkvL+i3s+i9rOWIsOWkmuWwkemhtQoJCWhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CgkJCS8vIGNvbnNvbGUubG9nKGDlvZPliY3pobU6ICR7dmFsfWApOwoJCQl0aGlzLnBhZ2UgPSB2YWwKCQkJdGhpcy5nZXRHcmFkZUluZm8oKQoJCX0KCX0KfQo="},{"version":3,"sources":["Grade.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Grade.vue","sourceRoot":"src/views","sourcesContent":["<template>\n\t<div id=\"grade\">\n\t\t<el-table :data=\"pagination.results\" style=\"width: 100%\" v-loading=\"loading\" border>\n\t\t\t<el-table-column type=\"index\" width=\"50\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"creat_time\" label=\"评卷时间\" sortable>\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<i class=\"el-icon-time\"></i>\n\t\t\t\t\t<span style=\"margin-left: 10px\">{{ scope.row.create_time.replace('T', ' ').substring(0, 19) }}</span>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"exam.name\" label=\"考试名称\" width=\"300\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-popover trigger=\"hover\" placement=\"top\">\n\t\t\t\t\t\t<p>考试名称: {{ scope.row.exam.name }}</p>\n\t\t\t\t\t\t<p>考试日期: {{ scope.row.exam.exam_date }}</p>\n\t\t\t\t\t\t<p>考试时长: {{ scope.row.exam.total_time }}</p>\n\t\t\t\t\t\t<p>所属专业: {{ scope.row.exam.major }}</p>\n\t\t\t\t\t\t<p>考试须知: {{ scope.row.exam.tips }}</p>\n\t\t\t\t\t\t<div slot=\"reference\" class=\"name-wrapper\">\n\t\t\t\t\t\t\t<el-tag size=\"medium\">{{ scope.row.exam.name }}</el-tag>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</el-popover>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"score\" label=\"得分\" width=\"150\" sortable>\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<i class=\"el-icon-trophy\"></i>\n\t\t\t\t\t<span style=\"margin-left: 10px\">{{ scope.row.score }}</span>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"exam.exam_date\" label=\"考试时间\" width=\"180\" sortable>\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<i class=\"el-icon-time\"></i>\n\t\t\t\t\t<span style=\"margin-left: 10px\">{{ scope.row.exam.exam_date }}</span>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"score\" label=\"筛选\" width=\"200\" :filters=\"[{ text: '及格', value: 'pass' }, { text: '不及格', value: 'fail' }]\"\n\t\t\t :filter-method=\"filterScore\" filter-placement=\"bottom-end\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-tag v-if=\"scope.row.score >= 60\" type=\"success\" disable-transitions>及格</el-tag>\n\t\t\t\t\t<el-tag v-if=\"scope.row.score < 60\" type=\"warning\" disable-transitions>不及格</el-tag>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t</el-table>\n\t\t<Pagination :count=\"pagination.count\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"></Pagination>\n\t</div>\n</template>\n\n<script>\n\timport Pagination from '@/components/Pagination.vue'\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tloading: false,\n\t\t\t\tpage: 1,\n\t\t\t\tpage_size: 5,\n\t\t\t\tpagination: {\n\t\t\t\t\tcount: null,\n\t\t\t\t\tnext: null,\n\t\t\t\t\tprevious: null,\n\t\t\t\t\tresults: []\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcomponents: {\n\t\t\tPagination\n\t\t},\n\t\tcreated() {\n\t\t\tthis.getGradeInfo()\n\t\t\tthis.loading = true\n\t\t},\n\t\tmethods: {\n\t\t\t//获取成绩信息\n\t\t\tgetGradeInfo() {\n\t\t\t\tthis.$axios(`api/grades/?format=json`, {\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tpage: this.page,\n\t\t\t\t\t\tpage_size: this.page_size,\n\t\t\t\t\t\tstudent_id: this.$store.state.student.id,\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\tthis.pagination = res.data\n\t\t\t\t\tthis.loading = false\n\t\t\t\t\t// console.log(this.pagination)\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tconsole.log(error)\n\t\t\t\t})\n\t\t\t},\n\t\t\t//过滤及格和不及格\n\t\t\tfilterScore(value, row) {\n\t\t\t\tif (value === 'pass') {\n\t\t\t\t\treturn row.score >= 60;\n\t\t\t\t} else if (value === 'fail') {\n\t\t\t\t\treturn row.score < 60\n\t\t\t\t} else {\n\t\t\t\t\treturn row.score > 0\n\t\t\t\t}\n\t\t\t},\n\t\t\t//改变每页条数\n\t\t\thandleSizeChange(val) {\n\t\t\t\t// console.log(`每页 ${val} 条`);\n\t\t\t\tthis.page_size = val\n\t\t\t\tthis.getGradeInfo()\n\t\t\t},\n\t\t\t//跳转到多少页\n\t\t\thandleCurrentChange(val) {\n\t\t\t\t// console.log(`当前页: ${val}`);\n\t\t\t\tthis.page = val\n\t\t\t\tthis.getGradeInfo()\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n"]}]}