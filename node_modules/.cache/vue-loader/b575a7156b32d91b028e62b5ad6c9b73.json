{"remainingRequest":"/Users/keya/Desktop/ExamOnline/exam-online/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/keya/Desktop/ExamOnline/exam-online/src/views/Practice.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/keya/Desktop/ExamOnline/exam-online/src/views/Practice.vue","mtime":1637127987893},{"path":"/Users/keya/Desktop/ExamOnline/exam-online/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/keya/Desktop/ExamOnline/exam-online/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/keya/Desktop/ExamOnline/exam-online/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/keya/Desktop/ExamOnline/exam-online/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9QYWdpbmF0aW9uLnZ1ZScKZXhwb3J0IGRlZmF1bHQgewoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQlmb3JtOiB7CgkJCQljaG9pY2VfbnVtYmVyOiAxLAoJCQkJZmlsbF9udW1iZXI6IDEsCgkJCQlqdWRnZV9udW1iZXI6IDEsCgkJCQlwcm9ncmFtX251bWJlcjogMSwKCQkJCWxldmVsOiAxLAoJCQl9LAoJCQlleGFtOiB7CgkJCQluYW1lOiAn5qih5ouf5rWL6K+VJywKCQkJCXRvdGFsX3RpbWU6IDEyMAoJCQl9LAoJCQlwcmFjdGljZToge30sCgkJCWxldmVsOiBbIuWFpemXqCIsICLnroDljZUiLCAi5pmu6YCaIiwgIui+g+maviIsICLlm7Dpmr4iXSwKCQkJbG9hZGluZzogZmFsc2UsCgkJCXBhZ2U6IDEsCgkJCXBhZ2Vfc2l6ZTogNSwKCQkJcGFnaW5hdGlvbjogewoJCQkJY291bnQ6IG51bGwsCgkJCQluZXh0OiBudWxsLAoJCQkJcHJldmlvdXM6IG51bGwsCgkJCQlyZXN1bHRzOiBbXQoJCQl9CgkJfQoJfSwKCWNvbXBvbmVudHM6IHsKCQlQYWdpbmF0aW9uCgl9LAoJY3JlYXRlZCgpIHsKCQl0aGlzLmdldFByYWN0aWNlSW5mbygpCgkJdGhpcy5sb2FkaW5nID0gdHJ1ZQoJfSwKCW1ldGhvZHM6IHsKCQl0b0Fuc3dlcigpIHsKCQkJLy/nlKhsb2NhbFN0b3JhZ2XlrZjlgqjogIPor5Xkv6Hmga/lkozor5Xljbfkv6Hmga8KCQkJYXhpb3MucG9zdChgYXBpL3ByYWN0aWNlcy9gLCB7CgkJCQluYW1lOiAn5qih5ouf57uD5LmgJywKCQkJCXN0dWRlbnRfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnN0dWRlbnQuaWQsCgkJCX0pLnRoZW4ocmVzID0+IHsKCQkJCWNvbnNvbGUubG9nKHJlcy5kYXRhKTsgLy/lpITnkIbmiJDlip/nmoTlh73mlbAg55u45b2T5LqOc3VjY2VzcwoJCQkJdGhpcy5wcmFjdGljZSA9IHJlcy5kYXRhOwoJCQkJbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ByYWN0aWNlJyk7CgkJCQlsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncGFwZXInKTsKCQkJCXNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oImlzUHJhY3RpY2UiKQoJCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oInByYWN0aWNlIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5wcmFjdGljZSkpOwoJCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oInBhcGVyIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5mb3JtKSk7CgkJCQl0aGlzLiRzdG9yZS5jb21taXQoInNldElzUHJhY3RpY2UiLCB0cnVlKQoJCQkJdGhpcy4kcm91dGVyLnB1c2goewoJCQkJCW5hbWU6ICdBbnN3ZXInLAoJCQkJCXBhcmFtczoge30KCQkJCX0pCgkJCX0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CgkJCQljb25zb2xlLmxvZyhlcnJvcikgLy/plJnor6/lpITnkIYg55u45b2T5LqOZXJyb3IKCQkJfSk7CgkJfSwKCQkvL+iOt+WPluaooeaLn+e7g+S5oAoJCWdldFByYWN0aWNlSW5mbygpIHsKCQkJdGhpcy4kYXhpb3MoYGFwaS9wcmFjdGljZXMvP2Zvcm1hdD1qc29uYCwgewoJCQkJcGFyYW1zOiB7CgkJCQkJcGFnZTogdGhpcy5wYWdlLAoJCQkJCXBhZ2Vfc2l6ZTogdGhpcy5wYWdlX3NpemUsCgkJCQkJc3R1ZGVudF9pZDogdGhpcy4kc3RvcmUuc3RhdGUuc3R1ZGVudC5pZCwKCQkJCX0KCQkJfSkudGhlbihyZXMgPT4gewoJCQkJdGhpcy5wYWdpbmF0aW9uID0gcmVzLmRhdGEKCQkJCXRoaXMubG9hZGluZyA9IGZhbHNlCgkJCQkvLyBjb25zb2xlLmxvZyh0aGlzLnBhZ2luYXRpb24pCgkJCX0pLmNhdGNoKGVycm9yID0+IHsKCQkJCWNvbnNvbGUubG9nKGVycm9yKQoJCQl9KQoJCX0sCgkJLy/mlLnlj5jmr4/pobXmnaHmlbAKCQloYW5kbGVTaXplQ2hhbmdlKHZhbCkgewoJCQkvLyBjb25zb2xlLmxvZyhg5q+P6aG1ICR7dmFsfSDmnaFgKTsKCQkJdGhpcy5wYWdlX3NpemUgPSB2YWwKCQkJdGhpcy5nZXRQcmFjdGljZUluZm8oKQoJCX0sCgkJLy/ot7PovazliLDlpJrlsJHpobUKCQloYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewoJCQkvLyBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gKTsKCQkJdGhpcy5wYWdlID0gdmFsCgkJCXRoaXMuZ2V0UHJhY3RpY2VJbmZvKCkKCQl9Cgl9LAp9Cg=="},{"version":3,"sources":["Practice.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Practice.vue","sourceRoot":"src/views","sourcesContent":["<template>\n\t<div id=\"practice\">\n\n\t\t<el-card class=\"box-card\">\n\t\t\t<div slot=\"header\" class=\"clearfix\">\n\t\t\t\t<span>组卷模块</span>\n\t\t\t</div>\n\t\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n\t\t\t\t<el-form-item label=\"单选题:\">\n\t\t\t\t\t<el-slider v-model=\"form.choice_number\" :step=\"1\" :max=\"10\" show-stops></el-slider>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"填空题:\">\n\t\t\t\t\t<el-slider v-model=\"form.fill_number\" :step=\"1\" :max=\"10\" show-stops></el-slider>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"判断题:\">\n\t\t\t\t\t<el-slider v-model=\"form.judge_number\" :step=\"1\" :max=\"10\" show-stops></el-slider>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"编程题:\">\n\t\t\t\t\t<el-slider v-model=\"form.program_number\" :step=\"1\" :max=\"10\" show-stops></el-slider>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"难易度:\">\n\t\t\t\t\t<el-rate v-model=\"form.level\" :texts=\"level\" show-text></el-rate>\n\t\t\t\t</el-form-item>\n\t\t\t</el-form>\n\t\t\t<el-button type=\"primary\" @click=\"toAnswer\">生成试卷并开始答题</el-button>\n\t\t</el-card>\n\t\t<el-table :data=\"pagination.results\" style=\"width: 61%\" v-loading=\"loading\" border>\n\t\t\t<el-table-column type=\"index\" width=\"50\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"creat_time\" label=\"练习时间\" width=\"250px\" sortable>\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<i class=\"el-icon-time\"></i>\n\t\t\t\t\t<span style=\"margin-left: 10px\">{{ scope.row.create_time.replace('T', ' ').substring(0, 19) }}</span>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column prop=\"name\" label=\"练习名称\" width=\"250px\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column>\n\t\t\t\t<template slot-scope=\"scope\" disabled>\n\t\t\t\t\t<router-link target=\"_blank\" :to=\"{path:'/record',query:{practice_id:scope.row.id}}\">\n\t\t\t\t\t\t<el-button type=\"text\" size=\"small\" disabled>查看记录</el-button>\n\t\t\t\t\t</router-link>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t</el-table>\n\t\t<Pagination :count=\"pagination.count\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"></Pagination>\n\t</div>\n</template>\n\n<script>\n\timport Pagination from '@/components/Pagination.vue'\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tform: {\n\t\t\t\t\tchoice_number: 1,\n\t\t\t\t\tfill_number: 1,\n\t\t\t\t\tjudge_number: 1,\n\t\t\t\t\tprogram_number: 1,\n\t\t\t\t\tlevel: 1,\n\t\t\t\t},\n\t\t\t\texam: {\n\t\t\t\t\tname: '模拟测试',\n\t\t\t\t\ttotal_time: 120\n\t\t\t\t},\n\t\t\t\tpractice: {},\n\t\t\t\tlevel: [\"入门\", \"简单\", \"普通\", \"较难\", \"困难\"],\n\t\t\t\tloading: false,\n\t\t\t\tpage: 1,\n\t\t\t\tpage_size: 5,\n\t\t\t\tpagination: {\n\t\t\t\t\tcount: null,\n\t\t\t\t\tnext: null,\n\t\t\t\t\tprevious: null,\n\t\t\t\t\tresults: []\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcomponents: {\n\t\t\tPagination\n\t\t},\n\t\tcreated() {\n\t\t\tthis.getPracticeInfo()\n\t\t\tthis.loading = true\n\t\t},\n\t\tmethods: {\n\t\t\ttoAnswer() {\n\t\t\t\t//用localStorage存储考试信息和试卷信息\n\t\t\t\taxios.post(`api/practices/`, {\n\t\t\t\t\tname: '模拟练习',\n\t\t\t\t\tstudent_id: this.$store.state.student.id,\n\t\t\t\t}).then(res => {\n\t\t\t\t\tconsole.log(res.data); //处理成功的函数 相当于success\n\t\t\t\t\tthis.practice = res.data;\n\t\t\t\t\tlocalStorage.removeItem('practice');\n\t\t\t\t\tlocalStorage.removeItem('paper');\n\t\t\t\t\tsessionStorage.removeItem(\"isPractice\")\n\t\t\t\t\tlocalStorage.setItem(\"practice\", JSON.stringify(this.practice));\n\t\t\t\t\tlocalStorage.setItem(\"paper\", JSON.stringify(this.form));\n\t\t\t\t\tthis.$store.commit(\"setIsPractice\", true)\n\t\t\t\t\tthis.$router.push({\n\t\t\t\t\t\tname: 'Answer',\n\t\t\t\t\t\tparams: {}\n\t\t\t\t\t})\n\t\t\t\t}).catch(function(error) {\n\t\t\t\t\tconsole.log(error) //错误处理 相当于error\n\t\t\t\t});\n\t\t\t},\n\t\t\t//获取模拟练习\n\t\t\tgetPracticeInfo() {\n\t\t\t\tthis.$axios(`api/practices/?format=json`, {\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tpage: this.page,\n\t\t\t\t\t\tpage_size: this.page_size,\n\t\t\t\t\t\tstudent_id: this.$store.state.student.id,\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\tthis.pagination = res.data\n\t\t\t\t\tthis.loading = false\n\t\t\t\t\t// console.log(this.pagination)\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tconsole.log(error)\n\t\t\t\t})\n\t\t\t},\n\t\t\t//改变每页条数\n\t\t\thandleSizeChange(val) {\n\t\t\t\t// console.log(`每页 ${val} 条`);\n\t\t\t\tthis.page_size = val\n\t\t\t\tthis.getPracticeInfo()\n\t\t\t},\n\t\t\t//跳转到多少页\n\t\t\thandleCurrentChange(val) {\n\t\t\t\t// console.log(`当前页: ${val}`);\n\t\t\t\tthis.page = val\n\t\t\t\tthis.getPracticeInfo()\n\t\t\t}\n\t\t},\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t#practice {\n\t\talign-items: center;\n\t}\n\n\t.el-card {\n\t\twidth: 700px;\n\t\tmargin: 50px 200px;\n\t}\n\n\t.el-slider {\n\t\twidth: 500px;\n\t\tmargin: 0px 20px;\n\t}\n\n\t.el-rate {\n\t\tmargin: 10px 100px 0px 0px;\n\t}\n\n\t.clearfix:before,\n\t.clearfix:after {\n\t\tdisplay: table;\n\t\tcontent: \"\";\n\t}\n\n\t.clearfix:after {\n\t\tclear: both\n\t}\n\n\t.el-table {\n\t\tmargin-left: 200px;\n\t}\n</style>\n"]}]}