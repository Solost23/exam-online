{"remainingRequest":"/Users/keya/exam-online/node_modules/thread-loader/dist/cjs.js!/Users/keya/exam-online/node_modules/babel-loader/lib/index.js!/Users/keya/exam-online/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/keya/exam-online/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/keya/exam-online/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/keya/exam-online/src/views/Login.vue","mtime":1638003877934},{"path":"/Users/keya/exam-online/node_modules/cache-loader/dist/cjs.js","mtime":1638003876547},{"path":"/Users/keya/exam-online/node_modules/thread-loader/dist/cjs.js","mtime":1638003877770},{"path":"/Users/keya/exam-online/node_modules/babel-loader/lib/index.js","mtime":1638003876380},{"path":"/Users/keya/exam-online/node_modules/cache-loader/dist/cjs.js","mtime":1638003876547},{"path":"/Users/keya/exam-online/node_modules/vue-loader/lib/index.js","mtime":1638003877813}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFNsaWRlVmVyaWZpY2F0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9TbGlkZVZlcmlmaWNhdGlvbi52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbmZpcm1TdWNjZXNzOiBmYWxzZSwKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6IG51bGwsCiAgICAgICAgcGFzc3dvcmQ6IG51bGwKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWtpuWPtycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWvhueggScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgU2xpZGVWZXJpZmljYXRpb246IFNsaWRlVmVyaWZpY2F0aW9uCiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+iOt+WPlua7keWdl+mqjOivgee7k+aenAogICAgY2hlY2tSZXN1bHQ6IGZ1bmN0aW9uIGNoZWNrUmVzdWx0KG1lc3NhZ2UpIHsKICAgICAgdGhpcy5jb25maXJtU3VjY2VzcyA9IG1lc3NhZ2U7CiAgICB9LAogICAgLy/lpITnkIbnmbvlvZUKICAgIGhhbmRMb2dpbjogZnVuY3Rpb24gaGFuZExvZ2luKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvL+a4heeQhue8k+WtmOS/oeaBrwogICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsKICAgICAgc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTsKCiAgICAgIGlmICh0aGlzLmNvbmZpcm1TdWNjZXNzKSB7CiAgICAgICAgdmFyIG1zZyA9IHRoaXM7CiAgICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkZSkgewogICAgICAgICAgaWYgKHZhbGlkZSkgewogICAgICAgICAgICBheGlvcy5wb3N0KCJhcGkvand0LWF1dGgvIiwgX3RoaXMubG9naW5Gb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOyAvL+WkhOeQhuaIkOWKn+eahOWHveaVsCDnm7jlvZPkuo5zdWNjZXNzCgogICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn55m75b2V5oiQ5YqfJywKICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRVc2VyIiwgcmVzLmRhdGEudXNlcik7CgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgic2V0U3R1ZGVudCIsIHJlcy5kYXRhLnN0dWRlbnQpOwoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoInNldEF1dGhvcml6YXRpb24iLCByZXMuZGF0YS50b2tlbik7CgogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvZXhhbScpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgLy/plJnor6/lpITnkIYg55u45b2T5LqOZXJyb3IKICAgICAgICAgICAgICBtc2cuJG1lc3NhZ2UoJ+eZu+W9leWksei0pe+8jOi0puWPt+aIluWvhueggemUmeivrycpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2Ugey8v6KGo5Y2V6aqM6K+B5aSx6LSlCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy/mnKrpgJrov4fpqozor4EKICAgICAgICB0aGlzLiRtZXNzYWdlKCfor7fmi5bliqjmu5HlnZfov5vooYzpqozor4HvvIEnKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,OAAA,iBAAA,MAAA,oCAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA,IADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAFA;AAMA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,CAAA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,OAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SAAA,CADA;AAMA,QAAA,QAAA,EAAA,CAAA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,OAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SAAA;AANA;AANA,KAAA;AAmBA,GArBA;AAsBA,EAAA,UAAA,EAAA;AACA,IAAA,iBAAA,EAAA;AADA,GAtBA;AAyBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,WAFA,uBAEA,OAFA,EAEA;AACA,WAAA,cAAA,GAAA,OAAA;AACA,KAJA;AAKA;AACA,IAAA,SANA,qBAMA,QANA,EAMA;AAAA;;AACA;AACA,MAAA,YAAA,CAAA,KAAA;AACA,MAAA,cAAA,CAAA,KAAA;;AACA,UAAA,KAAA,cAAA,EAAA;AACA,YAAA,GAAA,GAAA,IAAA;AACA,aAAA,KAAA,CAAA,QAAA,EAAA,QAAA,CAAA,UAAA,MAAA,EAAA;AACA,cAAA,MAAA,EAAA;AACA,YAAA,KAAA,CAAA,IAAA,kBAAA,KAAA,CAAA,SAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EADA,CACA;;AACA,kBAAA,GAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,gBAAA,KAAA,CAAA,QAAA,CAAA;AACA,kBAAA,OAAA,EAAA,MADA;AAEA,kBAAA,IAAA,EAAA;AAFA,iBAAA;;AAIA,gBAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,SAAA,EAAA,GAAA,CAAA,IAAA,CAAA,IAAA;;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,YAAA,EAAA,GAAA,CAAA,IAAA,CAAA,OAAA;;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,kBAAA,EAAA,GAAA,CAAA,IAAA,CAAA,KAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA,aAZA,EAYA,KAZA,CAYA,UAAA,KAAA,EAAA;AACA;AACA,cAAA,GAAA,CAAA,QAAA,CAAA,cAAA;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,aAhBA;AAiBA,WAlBA,MAkBA,CACA;AACA;AACA,SAtBA;AAuBA,OAzBA,MAyBA;AACA;AACA,aAAA,QAAA,CAAA,YAAA;AACA;AACA;AAvCA;AAzBA,CAAA","sourcesContent":["<template>\n\t<div id=\"login\">\n\t\t<el-container>\n\t\t\t<el-header>\n\t\t\t\t<h1 style=\"color: #FFFFFF;margin-top: 50px;\">Python在线考试系统</h1>\n\t\t\t</el-header>\n\t\t\t<el-main>\n\t\t\t\t<div id=\"login-from\">\n\t\t\t\t\t<el-form ref=\"loginForm\" status-icon :model=\"loginForm\" :rules=\"rules\">\n\t\t\t\t\t\t<el-form-item label=\"学号\" prop=\"username\">\n\t\t\t\t\t\t\t<el-input v-model=\"loginForm.username\" autocomplete=\"off\"></el-input>\n\t\t\t\t\t\t\t</el-input>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"密码\" prop=\"password\">\n\t\t\t\t\t\t\t<el-input type=\"password\" v-model=\"loginForm.password\" autocomplete=\"off\"></el-input>\n\t\t\t\t\t\t\t</el-input>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<slide-verification @check-result=\"checkResult\"></slide-verification>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<el-button type=\"primary\" @click.native.prevent=\"handLogin('loginForm')\">登录</el-button>\n\t\t\t\t\t\t<div class=\"text-foot\">\n\t\t\t\t\t\t\t还没有账号?\n\t\t\t\t\t\t\t<router-link to=\"/register\" class=\"register-link\">\n\t\t\t\t\t\t\t\t注册\n\t\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</el-form>\n\t\t\t\t</div>\n\t\t\t</el-main>\n\t\t</el-container>\n\t</div>\n</template>\n\n<script>\n\timport SlideVerification from '@/components/SlideVerification.vue'\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tconfirmSuccess: false,\n\t\t\t\tloginForm: {\n\t\t\t\t\tusername: null,\n\t\t\t\t\tpassword: null,\n\t\t\t\t},\n\t\t\t\trules: {\n\t\t\t\t\tusername: [{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: '请输入学号',\n\t\t\t\t\t\ttrigger: 'blur'\n\t\t\t\t\t}],\n\t\t\t\t\tpassword: [{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: '请输入密码',\n\t\t\t\t\t\ttrigger: 'blur'\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcomponents:{\n\t\t\tSlideVerification\n\t\t},\n\t\tmethods: {\n\t\t\t//获取滑块验证结果\n\t\t\tcheckResult(message) {\n\t\t\t\tthis.confirmSuccess = message\n\t\t\t},\n\t\t\t//处理登录\n\t\t\thandLogin(formName) {\n\t\t\t\t//清理缓存信息\n\t\t\t\tlocalStorage.clear()\n\t\t\t\tsessionStorage.clear()\n\t\t\t\tif (this.confirmSuccess) {\n\t\t\t\t\tconst msg = this\n\t\t\t\t\tthis.$refs[formName].validate((valide) => {\n\t\t\t\t\t\tif (valide) {\n\t\t\t\t\t\t\taxios.post(`api/jwt-auth/`, this.loginForm).then(res => {\n\t\t\t\t\t\t\t\tconsole.log(res); //处理成功的函数 相当于success\n\t\t\t\t\t\t\t\tif (res.status == 200) {\n\t\t\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\t\t\tmessage: '登录成功',\n\t\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tthis.$store.commit(\"setUser\", res.data.user)\n\t\t\t\t\t\t\t\t\tthis.$store.commit(\"setStudent\", res.data.student)\n\t\t\t\t\t\t\t\t\tthis.$store.commit(\"setAuthorization\", res.data.token)\n\t\t\t\t\t\t\t\t\tthis.$router.push('/exam')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}).catch(function(error) {\n\t\t\t\t\t\t\t\t//错误处理 相当于error\n\t\t\t\t\t\t\t\tmsg.$message('登录失败，账号或密码错误');\n\t\t\t\t\t\t\t\tconsole.log(error) \n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//表单验证失败\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t//未通过验证\n\t\t\t\t\tthis.$message('请拖动滑块进行验证！');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t#login {\n\t\theight: 700px;\n\t\t// background-color: #244d6f;\n\t\tbackground-image: url(../assets/bg.jpg);\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-size: cover; \n\t}\n\n\t#login-from {\n\t\tmargin: 50px 540px;\n\t\twidth: 400px;\n\t\theight: 400px;\n\t\tborder-radius: 10px;\n\t\tbackground-color: #FFFFFF;\n\t}\n\n\t.el-form {\n\t\tpadding-top: 50px;\n\t\tmargin: 50px 50px;\n\t\twidth: 300px;\n\t}\n\n\t.el-input {\n\n\t}\n\n\t.el-button {\n\t\twidth: 100%;\n\t}\n\t\n\t.text-foot {\n\t\t// text-align: center;\n\t\t// padding: 10px;\n\t\tfont-weight: 700;\n\t\tmargin-top: 20px;\n\t\t// color: var(--color-semidark);\n\t}\n</style>\n"],"sourceRoot":"src/views"}]}